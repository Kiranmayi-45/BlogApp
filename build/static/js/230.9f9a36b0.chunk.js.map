{"version":3,"file":"static/js/230.9f9a36b0.chunk.js","mappings":"4LAsGA,QA/FA,WACE,IAAI,SAAEA,EAAQ,aAAEC,IAAiBC,EAAAA,EAAAA,OAC7B,YAAEC,IAAgBC,EAAAA,EAAAA,KACnBC,GAAUA,EAAMC,0BAEdC,EAAKC,IAAUC,EAAAA,EAAAA,UAAS,IACzBC,GAAWC,EAAAA,EAAAA,MACXC,EAAMC,aAAaC,QAAQ,SAE/B,MAAMC,EAAeC,EAAAA,EAAMC,OAAO,CAChCC,QAAQ,CAACC,cAAc,UAADC,OAAWR,MAsBnC,OACES,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UACzBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8BAA6BC,UAC1CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uCAAsCC,UACnDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,cAAaC,SAAC,wBAE9BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBC,UAEjCC,EAAAA,EAAAA,MAAA,QAAMC,SAAUxB,GA7BLyB,UACrBC,EAAQC,eAAiB,IAAIC,KAC7BF,EAAQG,mBAAqB,IAAID,KACjCF,EAAQI,UAAYF,KAAKG,MAAMC,WAC/BN,EAAQO,SAAW/B,EAAY+B,SAC/BP,EAAQQ,SAAW,GACnBR,EAAQS,QAAS,EAGlB,IAAIC,QAAUtB,EAAeuB,KAAK,4CAA4CX,GAC9EY,QAAQC,IAAIH,EAAII,MACM,sBAAnBJ,EAAII,KAAKC,QACXhC,EAAS,sCAADU,OAAuCjB,EAAY+B,WAE3D1B,EAAO6B,EAAII,KAAKC,QACjB,IAcwDnB,SAAA,EAC3CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOsB,QAAQ,QAAQrB,UAAU,aAAYC,SAAC,WAG9CF,EAAAA,EAAAA,KAAA,SACEuB,KAAK,OACLtB,UAAU,eACVuB,GAAG,WACC7C,EAAS,eAIjBwB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOsB,QAAQ,WAAWrB,UAAU,aAAYC,SAAC,uBAGjDC,EAAAA,EAAAA,MAAA,aACMxB,EAAS,YACb6C,GAAG,WACHvB,UAAU,cAAaC,SAAA,EAEvBF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,cAAavB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,QAAOvB,SAAC,WACtBF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,WAAUvB,SAAC,oBAG7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOsB,QAAQ,UAAUrB,UAAU,aAAYC,SAAC,aAGhDF,EAAAA,EAAAA,KAAA,eACMrB,EAAS,WACbsB,UAAU,eACVuB,GAAG,UACHE,KAAK,WAIT1B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,UAClCF,EAAAA,EAAAA,KAAA,UAAQuB,KAAK,SAAStB,UAAU,kCAAiCC,SAAC,wBAWpF,C","sources":["components/Author/AddArticle.js"],"sourcesContent":["\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AddArticle() {\r\n  let { register, handleSubmit } = useForm();\r\n  let { currentUser } = useSelector(\r\n    (state) => state.userAuthorLoginReducer\r\n  );\r\n  let [err, setErr] = useState(\"\");\r\n  let navigate = useNavigate();\r\n  let token=localStorage.getItem('token')\r\n  //create axios with token\r\n  const axiosWithToken=axios.create({\r\n    headers:{Authorization:`Bearer ${token}`}\r\n  })\r\n\r\n  const postNewArticle = async (article) => {\r\n    article.dateOfCreation = new Date();\r\n    article.dateOfModification = new Date();\r\n    article.articleId = Date.now().toString();\r\n    article.username = currentUser.username;\r\n    article.comments = [];\r\n    article.status = true;\r\n    \r\n   //make HTTP post req\r\n   let res=await axiosWithToken.post('http://localhost:4000/author-api/articles',article)\r\n   console.log(res.data)\r\n   if(res.data.message==='new article added'){\r\n    navigate(`/author-profile/articles-by-author/${currentUser.username}`)\r\n   }else{\r\n    setErr(res.data.message)\r\n   }\r\n  };\r\n\r\n  //<p style=\"white-space: pre-line\">multi-line text</p>\r\n  return (\r\n    <div className=\"container \">\r\n      <div className=\"row justify-content-center mt-5\">\r\n        <div className=\"col-lg-8 col-md-8 col-sm-10\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"card-title text-center border-bottom\">\r\n              <h2 className=\"p-3 bg-info\">Write an Article</h2>\r\n            </div>\r\n            <div className=\"card-body bg-light\">\r\n              {/* {err.length!==0&&<p className='text-danger fs-5'>{err}</p>} */}\r\n              <form onSubmit={handleSubmit(postNewArticle)}>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"title\" className=\"form-label\">\r\n                    Title\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"title\"\r\n                    {...register(\"title\")}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Select a category\r\n                  </label>\r\n                  <select\r\n                    {...register(\"category\")}\r\n                    id=\"category\"\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"programming\">Programming</option>\r\n                    <option value=\"AI&ML\">AI&ML</option>\r\n                    <option value=\"database\">Database</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"content\" className=\"form-label\">\r\n                    Content\r\n                  </label>\r\n                  <textarea\r\n                    {...register(\"content\")}\r\n                    className=\"form-control\"\r\n                    id=\"content\"\r\n                    rows=\"10\"\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <div className=\"text-end text-black\">\r\n                  <button type=\"submit\" className=\"text-black p-2 rounded btn-info\">\r\n                    Post\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddArticle;"],"names":["register","handleSubmit","useForm","currentUser","useSelector","state","userAuthorLoginReducer","err","setErr","useState","navigate","useNavigate","token","localStorage","getItem","axiosWithToken","axios","create","headers","Authorization","concat","_jsx","className","children","_jsxs","onSubmit","async","article","dateOfCreation","Date","dateOfModification","articleId","now","toString","username","comments","status","res","post","console","log","data","message","htmlFor","type","id","value","rows"],"sourceRoot":""}